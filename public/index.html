<!DOCTYPE html>
<html lang="en">

  <link rel="stylesheet" href = "/stylesheets/bootstrap-responsive.min.css" />
  <link rel="stylesheet" href = "/stylesheets/bootstrap.min.css" />
  <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript"></script>
  <script src="/javascripts/bootstrap.min.js" type="text/javascript"></script>
  <script src="/javascripts/handlebars-min.js" type="text/javascript"></script>
  <script src="/socket.io/socket.io.js" type="text/javascript"></script>
  <script src="/javascripts/rocket.js" type="text/javascript"></script>
  <script>

  </script>

  <body>
    <div class="container" style = "margin-top:36px">

      <div id="notifier" class="alert alert-info" >
        <a class="close" data-dismiss="alert" href="#">&times;</a>
      </div>
      <h1>Products</h1>

      <div id="allProductsContainer"></div>
      <div id="singleProductContainer"></div>

    </div>
    
    <script id="singleProduct" type="x-handlebars" data-events="itemReady">
      <form action="updateProduct" class="rocket-form">
       <input type = "hidden" name="broadcast" value = "true" />
        <p>
          <label>Title</label>
          <input id="title" value ="{{item.title}}"/>
        </p>
        <p>
          <label>Price</label>
          <input id="price"  value ="{{item.price}}" />
        </p>
        <p>
          <input type="submit" value = "go">
        </p>
      </form>
    </script>

    <script data-query="allProducts" type="x-handlebars" data-events="connected itemUpdated">
      <ul class="item-list">
        {{#each items}}
        <li><a href="singleProduct" data-id="{{id}}" class="rocket-selector">{{title}}</a></li>
        {{/each}}
      </ul>
    </script>

  </body>
</html>
